<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: View.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: View.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import $ from 'jquery';
import { extend, pickBy } from 'lodash';
import MixinableView from 'std/MixinableView';
import WithOptionTypes from 'mixins/WithOptionTypes';
import WithState from 'mixins/WithState';
/**
 * Represents a book.
 * @constructor
 * @param {string} title - The title of the book.
 * @param {string} author - The author of the book.
 */
export default MixinableView.extend(
    {
        mixins: [WithState, WithOptionTypes],

        defaultOptions: {},
        
        constructor: function() {
            this.options = extend(
                {},
                this.defaultOptions,
                pickBy(arguments[0] || {}, function(x) {
                    return x !== undefined;
                })
            );

            var initialRender = this.render;
            this.render = function render() {
                this.beforeRender.apply(this, arguments);
                initialRender.apply(this, arguments);
                this.afterRender.apply(this, arguments);
            }.bind(this);

            MixinableView.apply(this, arguments);
        },

        beforeRender: function() {
            MixinableView.prototype.beforeRender.apply(this, arguments);
        },

        afterRender: function() {
            MixinableView.prototype.afterRender.apply(this, arguments);
        },

        automagicErrors: function(detail) {
            this.$('.form-global-error').removeAttr('data-error');
            this.$('.form-global-error').hide();

            this.$('[data-error-for]').removeAttr('data-error');

            if (detail === null) return;

            if (typeof detail === 'object') {
                var errorContainers = this.$('[data-error-for]');

                Object.keys(detail).forEach(
                    function(name) {
                        errorContainers
                            .filter(function() {
                                return $(this).attr('data-error-for').split(',').indexOf(name) > -1;
                            })
                            .attr('data-error', detail[name].join('\n'));
                    }.bind(this)
                );
            } else {
                this.$('.form-global-error .message').text(detail);
                this.$('.form-global-error').attr('data-error', detail);
                this.$('.form-global-error').fadeIn();
            }
        }
    },
    {
        extend: function(properties, classProperties) {
            var extendedProps = extend({}, properties, {
                defaultOptions: extend(
                    {},
                    this.prototype.defaultOptions || {},
                    properties.defaultOptions || {}
                ),
                events: extend({}, this.prototype.events || {}, properties.events || {}),
                optionTypes: extend(
                    {},
                    this.prototype.optionTypes || {},
                    properties.optionTypes || {}
                )
            });

            return MixinableView.extend.call(this, extendedProps, classProperties);
        }
    }
);
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="module.exports.html">exports</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.3</a> on Fri Jul 21 2017 16:18:53 GMT+0000 (UTC)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
